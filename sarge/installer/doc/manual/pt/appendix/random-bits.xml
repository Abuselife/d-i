<!-- Start of file appendix/random-bits.xml -->

<appendix id="random-bits"
><title
>Miscelânea</title>


<!-- Start of file appendix/example-preseed.xml -->

<sect1 id="example-preseed">
<title
>Exemplo de Ficheiro de Pré-configuração</title>

<para
>Este é um exemplo completo e funcional de um ficheiro de pré-configuração para uma instalação automatizada. A sua utilização é explicada em <xref linkend="automatic-install"/>. Você poderá querer descomentar algumas das linhas antes de utilizar o ficheiro. <note
><para
>De modo a ser possível apresentar correctamente este exemplo no manual, tivemos de dividir algumas linhas. Isto é indicado pela utilização do carácter de continuação de linha <quote
>\</quote
> e identação extra na linha seguinte. Num ficheiro de pré-configuração verdadeiro, estas linhas separadas têm de ser unidas <emphasis
>numa única linha</emphasis
>. Se não o fizer, a pré-configuração irá falhar com resultados imprevisíveis. </para
><para
>Um ficheiro de exemplo <quote
>limpo</quote
> é incluído nos CD-ROMs de instalação oficiais em <filename
>/doc/install/manual/</filename
> e estão disponíveis através da Internet em <ulink url="&url-example-preseed;"
></ulink
>. </para
></note>

<informalexample
><screen
>#### Modificar syslinux.cfg.

# Editar o ficheiro syslinux.cfg (ou similar), e adicione parâmetros no fim
# das linhas do kernel adicionadas.
#
# Você quer, pelo menos, adicionar um parâmetro a dizer ao instalador onde 
# obter o ficheiro preseed.
# Se está a instalar a partir de media USB, utilize isto, e ponha o ficheiro preseed
# no directório de topo do stick USB.
#   preseed/file=/hd-media/preseed
# Se você em vez disso está a utilizar o netbooting, utilize antes isto:
#   preseed/url=http://host/path/to/preseed
# Se está a criar um CD, você pode utilizar isto:
#   preseed/file=/cdrom/preseed
# Assegure-se que copiou este ficheiro para o local especificado.
# 
# Enquanto o está a fazer, você pode querer mandar para lá um debconf/priority=critical
# para evitar a maioria das questões mesmo que o preseeding abaixo falhe algumas.
# E você pode definir o timeout para 1 em syslinux.cfg para evitar ter de carregar em
# enter para iniciar o instalador.
#
# A escolha do idioma, país e teclado não pode ser feita a partir de um ficheiro de preseed,
# porque as questões são colocadas antes do ficheiro preseed ser carregado.
# Em vez disso, para evitar essas questões, passe um ou mais parâmetros ao kernel:
#
#    languagechooser/language-name=English
#    countrychooser/shortlist=US
#    console-keymaps-at/keymap=us
#
# Note que o kernel aceita um máximo de 8 opções de linha de comandos e
# 8 opções de ambiente (incluindo quaisquer opções adicionadas por omissão para o
# instalador). Se esses números forem excedidos, os kernels 2.4 irão largar as opções
# em excesso e nos kernels 2.6 ocorrerá um panic. Com o kernel 2.6.9 
ou mais recentes pode utilizar 32 opções de linha de comandos e 32 opções 
de ambiente
#
# Algumas das opções por omissão, como 'vga=normal' podem ser removidas 
#sem problemas na maioria das instalações, que lhe pode permitir #adicionar mais opções para preseeding.

#### Comandos de Shell.

# O preseeding do d-i é inerentemente não seguro. Nada no instalador verifica
# por tentativas de buffer overflow ou outras façanhas dos valores de um
# ficheiro preseed como este. Utilize apenas ficheiros preseed provenientes de locais
# seguros! Para o correr, e porque é usualmente útil, aqui está uma maneira
# de correr automaticamente qualquer comando da shell que queira dentro do instalador.

# Este primeiro comando é corrido tão cedo quanto possível, logo após
# o preseeding ser lido.
#d-i preseed/early_command              string \
#    wget http://url/to/my.udeb -O /tmp/my.udeb; udpkg -i /tmp/my.udeb

# Este comando é corrido mesmo antes do instalador terminar, mas quando existe um
# directório /target ainda utilizável.
#d-i preseed/late_command               string \
#    for deb in /hd-media/*.deb; do cp $deb /target/tmp; \
#    chroot /target dpkg -i /tmp/$(basename $deb); done

# Este comando é corrido assim que o base-config é iniciado.
#base-config base-config/early_command  string echo hi mom

# Este comando é corrido após o base-config ter terminado, antes da prompt:
# de login. Este é um bom modo de instalar um conjunto pacotes que você queira, ou para
# alterar a configuração do sistema.
#base-config base-config/late_command   string \
#    apt-get install zsh; chsh -s /bin/zsh

#### Configuração de rede.

# Claro que, isto não vai funcionar se você está a carregar o ficheiro de preseed a partir da
# rede! Mas é óptimo se está a arrancar a partir de CD ou de um stick USB. Você pode
# passar parâmetros de configuração de rede nos parâmetros do kernel se você está
# a carregar os ficheiros de preseed a partir da rede.

# Se possível o netcfg irá escolher um interface que tenha uma ligação. Isto faz com que
# não mostre uma lista se existir mais de um interface.
d-i  netcfg/choose_interface            select auto

# Se você preferir configurar a rede manualmente, aqui está como o fazer:
#d-i netcfg/disable_dhcp                boolean true
#d-i netcfg/get_nameservers             string 192.168.1.1
#d-i netcfg/get_ipaddress               string 192.168.1.42
#d-i netcfg/get_netmask                 string 255.255.255.0
#d-i netcfg/get_gateway                 string 192.168.1.1
#d-i netcfg/confirm_static              boolean true

# Note que qualquer hostname e nome de domínio adquiridos por dhcp tomam
# precedência sobre os valores definidos aqui. No entanto, definir os valores
# previne que as questões sejam mostradas mesmo que os valores venham por dhcp.
d-i  netcfg/get_hostname                string unassigned-hostname
d-i  netcfg/get_domain                  string unassigned-domain

# Desligar a irritante janela de diálogo da chave WEP.
d-i  netcfg/wireless_wep                string
# O hostname que alguns ISPs utilizam como password.
#d-i netcfg/dhcp_hostname               string radish

#### Mirror settings.

d-i  mirror/country                     string enter information manually
d-i  mirror/http/hostname               string http.us.debian.org
d-i  mirror/http/directory              string /debian
d-i  mirror/suite                       string testing
d-i  mirror/http/proxy                  string 

### Particionamento.

# Se o sistema tiver espaço livre suficiente você pode escolher particionar apenas esse espaço.
#d-i partman-auto/init_automatically_partition \
#    select Utilizar o maior espaço contíguo

# Alternativamente, você pode especificar um disco a particionar. O nome do dispositivo pode
# ser dado quer por devfs ou pelo formato tradicional não-devfs.
# Por exemplo, para utilizar o primeiro disco que devfs conhece:
d-i  partman-auto/disk                  string /dev/discs/disc0/disc

# você pode escolher a partir de qualquer umas das receitas de particionamento pré-definidas:
d-i  partman-auto/choose_recipe         select \
     Todos os ficheiros numa partição (recomendado para novos utilizadores)
#d-i partman-auto/choose_recipe         select Desktop machine
#d-i partman-auto/choose_recipe         select Multi-user workstation

# Ou disponibilize você uma receita sua...
# O formato de receita está documentado no ficheiro devel/partman-auto-recipe.txt.
# Se tiver como colocar um ficheiro de receita no ambiente do d-i, você pode
# apenas apontar para lá.
#d-i partman-auto/expert_recipe_file    string /hd-media/recipe

# Caso contrário, você pode colocar toda a receita numa linha. Este exemplo cria
# uma pequena partição /boot, adequada para swap, e utiliza o resto do espaço
# para a partição raíz:
#d-i partman-auto/expert_recipe         string boot-root :: \
#    20 50 100 ext3 $primary{ } $bootable{ } method{ format } format{ } \
#    use_filesystem{ } filesystem{ ext3 } mountpoint{ /boot } . \
#    500 10000 1000000000 ext3 method{ format } format{ } \
#    use_filesystem{ } filesystem{ ext3 } mountpoint{ / } . \
#    64 512 300% linux-swap method{ swap } format{ } . 
# Para referência, aqui está a mesma receita de uma forma mais legível:
#    boot-root ::
#       40 50 100 ext3
#          $primary{ } $bootable{ }
#          method{ format } format{ }
#          use_filesystem{ } filesystem{ ext3 }
#          mountpoint{ /boot }
#       .
#       500 10000 1000000000 ext3
#          method{ format } format{ }
#          use_filesystem{ } filesystem{ ext3 }
#          mountpoint{ / }
#       .
#       64 512 300% linux-swap
#          method{ swap } format{ }
#       .

# Isto faz o partman particionar automaticamente sem confirmação.
d-i partman/confirm_write_new_label     boolean true
d-i partman/choose_partition            select \
    Finish partitioning and write changes to disk
d-i partman/confirm                     boolean true

#### Instalação do Gestor de Arranque.

# Grub é o gestor de arranque por omissão (para x86). Se você quer o lilo instalado
# em vez disso, tire o comentário desta linha:
#d-i grub-installer/skip                boolean true

# Fazer isto é normalmente seguro, se nenhum outro sistema operativo foi detectado
#faz com o grub se instale automaticamente na MBR
d-i  grub-installer/only_debian         boolean true

# Este faz com que o grub-installer se instale na MBR se também encontrar algum
# outro SO, que é menos seguro porque não ser possível iniciar o outro SO.
d-i  grub-installer/with_other_os       boolean true

# Em alternativa, se você quer instalar noutro local que não a MBR,
# tire o comentário e edite estas linhas:
#d-i grub-installer/bootdev             string (hd0,0)
#d-i grub-installer/only_debian         boolean false
#d-i grub-installer/with_other_os       boolean false

##### Terminar a instalação da 1ª Etapa.

# Evitar aquela última mensagem acerca da instalação estar completa.
d-i  prebaseconfig/reboot_in_progress   note 


##### Preseeding base-config.

# Evitar a mensagem introdutória.
base-config  base-config/intro          note

# Evitar a mensagem final.
base-config  base-config/login          note

# Se você instalou um gestor de display, mas não quer inicia-lo imediatamente
# após o base-config terminar.
#base-config base-config/start-display-manager        boolean false

###### Configuração de Fuso Horário.

# Controla se o relógio de hardware está ou não definido para GMT.
base-config  tzconfig/gmt                             boolean true

# Se você disse ao instalador que está nos Estados Unidos, então você
# pode definir o fuso horário utilizando esta variável.
# (As escolhas são: Eastern, Central, Mountain, Pacific, Alaska, Hawaii,
# Aleutian, Arizona East-Indiana, Indiana-Starke, Michigan, Samoa, outros)
base-config  tzconfig/choose_country_zone/US          select Eastern
# Se disse que está no Canadá.
# (As escolhas são: Newfoundland, Atlantic, Eastern, Central,
# East-Saskatchewan, Saskatchewan, Mountain, Pacific, Yukon, outros)
base-config  tzconfig/choose_country_zone/CA          select Eastern
# Se disse que está no Brazil. (As escolhas são: East, West, Acre,
# DeNoronha, outros)
base-config  tzconfig/choose_country_zone/BR          select East
# Muito países têm apenas um fuso horário. Se disse ao instalador que está
# num desses países, você pode escolher o fuso horário standard através desta
# questão.
base-config  tzconfig/choose_country_zone_single      boolean true
# Esta pergunta é feita como recurso para outros países que não os
# listados acima, que têm mais de um fuso horário. você pode fazer o preseed de um dos
# fusos horários, ou "outros".
#base-config tzconfig/choose_country_zone_multiple    select 

###### Preparação de Contas.

# Para fazer o pressed à password de root, você tem de pô-la a descoberto neste
# ficheiro. Isso não é uma ideia muito boa, use com cautela!
#passwd passwd/root-password            password r00tme
#passwd passwd/root-password-again      password r00tme

# Se quer saltar a criação de uma conta de utilizador normal.
#passwd passwd/make-user                boolean false

# Em alternativa, pode fazer o preseed ao nome e password do utilizador.
#passwd passwd/user-fullname            string Debian User
#passwd passwd/username                 string debian
# As passwords deles, mas utilize com cautela!
#passwd passwd/user-password            password insecure
#passwd passwd/user-password-again      password insecure

###### Preparação do Apt.

# Esta questão controla qual a fonte que a instalação da segunda etapa vai utilizar
# para os pacotes. As escolhas são cdrom, http, ftp, filesystem, editar lista de fontes
# à mão
base-config  apt-setup/uri_type         select http

# Se você escolher http ou ftp, ser-lhe-á perguntado o país e o mirror.
base-config  apt-setup/country          select enter information manually
base-config  apt-setup/hostname         string http.us.debian.org
base-config  apt-setup/directory        string /debian
# Parar após escolher um mirror.
base-config  apt-setup/another          boolean false

# Você pode escolher instalar software contrib e non-free.
#base-config apt-setup/non-free         boolean true
#base-config apt-setup/contrib          boolean true

# Para permitir actualizações de segurança.
base-config  apt-setup/security-updates boolean true

###### Selecção de pacotes.

# Você pode escolher instalar qualquer combinação de tarefas que estejam disponíveis.
# As tarefas disponíveis até à escrita deste documento incluem: Ambiente Desktop,
# Servidor Webr, Servidor de Impressão, Servidor de DNS, Servidor de Ficheiros,
# Servidor de Mail, Base de Dados SQL, selecção manual de pacotes. A última irá correr
# o aptitude. Você pode também não instalar tarefas, e forçar a
# instalação de um conjunto de pacotes de alguma outra forma.
tasksel      tasksel/first   multiselect Desktop environment
#tasksel     tasksel/first   multiselect Web server, Mail server, DNS server

###### Configuração do Servidor de Mail.

# Durante uma instalação normal, o exim faz apenas duas perguntas. Aqui está como
# evitar até essas. É possível um preseeding mais complicado.
exim4-config exim4/dc_eximconfig_configtype \
    select no configuration at this time

# É boa ideia definir isto para qualquer que seja a conta que você escolha criar.
# Deixar o valor em branco resulta em o mail do postmaster ir para
# /var/mail/mail.
exim4-config exim4/dc_postmaster        string 

###### Configuração do X.

# Fazer o preseed a configuração do X do Debian é possível, mas provavelmente você tem de saber
# alguns detalhes sobre o hardware de vídeo da máquina, já que o configurador do
# X em Debian não faz a configuração automática de tudo.

# O X pode detectar o driver certo para algumas placas, mas se está a fazer preseed,
#você contorna o que foi detectado. Ainda assim, VESA vai funcionar na maioria dos casos.
#xserver-xfree86 xserver-xfree86/config/device/driver select vesa

# Um aviso acerca da auto-detecção do rato é que se falhar, o X vai tentar
# fazê-la sem parar. Se vai ser feito o preseed, existe a possibilidade de
# um ciclo infinito se o rato não for auto-detectado.
#xserver-xfree86 xserver-xfree86/autodetect_mouse     boolean true

# É recomendada a auto-detecção do monitor.
xserver-xfree86 xserver-xfree86/autodetect_monitor    boolean true
# Retire o comentário se tiver um ecrã LCD.
#xserver-xfree86 xserver-xfree86/config/monitor/lcd   boolean true
# O X tem três caminhos na configuração para o monitor. Aqui está como fazer o preseed:
# o caminho "medium", que está sempre disponível. O caminho "simple" pode não estar
# disponível, e o caminho "advanced" faz demasiadas questões.
xserver-xfree86  xserver-xfree86/config/monitor/selection-method \
    select medium
xserver-xfree86  xserver-xfree86/config/monitor/mode-list \
    select 1024x768 @ 60 Hz

###### Tudo o resto.

# Dependendo do software que você escolher instalar, ou se as coisas correrem mal
# durante o processo de instalação, é possível que outras questões possam ser
# colocadas. Você pode fazer o preseed também a essas, claro. Para obter uma lista de todas
# as possíveis questões que possam ser colocadas durante uma instalação, faça uma
# instalação, e depois corra estes comandos:
#   debconf-get-selections --installer 
> file
#   debconf-get-selections 
>
> file

# Se você quiser, pode incluir outros ficheiros de preseed neste.
# Quaisquer definições nesses ficheiros vão-se sobrepor às anteriores deste ficheiro.
# Pode ser listado mais do que um ficheiro, separado por espaços; todos serão
# carregados. Os ficheiros incluídos também podem ter directivas preseed/incluídas neles
# próprios. Note que se os ficheiros forem relativos, eles são tirados da
# mesma directoria que o ficheiros de preseed que os inclui.
#d-i preseed/include                    string x.cfg

# Mais flexibilidade, isto corre um comando da shell e mostra os nomes dos
# ficheiros de preseed, inclui esses ficheiros. Por exemplo, para trocar configurações
# baseadas num particular dispositivo de armazenamento usb (neste caso, um
# leitor de cartões embebido):
#d-i preseed/include_command            string \
#    if $(grep -q "GUID: 0aec3050aec305000001a003" /proc/scsi/usb-storage-*/*); \
#    then echo kraken.cfg; else echo otherusb.cfg; fi
</screen
></informalexample>

</para>
</sect1>
<!--   End of file appendix/example-preseed.xml -->

<!-- Start of file appendix/files.xml -->


 <sect1 id="linuxdevices"
><title
>Dispositivos em Linux</title>
<para
>Em Linux você tem vários ficheiros especiais em <filename
>/dev</filename
>. Este ficheiros são chamados ficheiros de dispositivos. No mundo Unix aceder a hardware é diferente. Lá você tem um ficheiro especial que na realidade corre um controlador que por sua vez acede ao hardware. O ficheiro de dispositivo é um interface para o verdadeiro componente do sistema. Os ficheiros sob <filename
>/dev</filename
> também se comportam de forma diferente dos ficheiros vulgares. Abaixo estão listados os ficheiros de dispositivos mais importantes. </para
><para>

<informaltable
><tgroup cols="2"
><tbody>
<row>
  <entry
><filename
>fd0</filename
></entry>
  <entry
>Primeira Drive de Disquete</entry>
</row
><row>
  <entry
><filename
>fd1</filename
></entry>
  <entry
>segunda Drive de Disquete</entry>
</row>
</tbody
></tgroup
></informaltable>

<informaltable
><tgroup cols="2"
><tbody>
<row>
  <entry
><filename
>hda</filename
></entry>
  <entry
>Disco Rígido IDE / CD-ROM no primeiro canal IDE (Master)</entry>
</row
><row>
  <entry
><filename
>hdb</filename
></entry>
  <entry
>Disco Rígido IDE / CD-ROM no primeiro canal IDE (Slave)</entry>
</row
><row>
  <entry
><filename
>hdc</filename
></entry>
  <entry
>Disco Rígido IDE / CD-ROM no segundo canal IDE (Master)</entry>
</row
><row>
  <entry
><filename
>hdd</filename
></entry>
  <entry
>Disco Rígido IDE /CD-ROM no segundo canal IDE (Slave)</entry>
</row
><row>
  <entry
><filename
>hda1</filename
></entry>
  <entry
>Primeira partição do primeiro disco rígido IDE</entry>
</row
><row>
  <entry
><filename
>hdd15</filename
></entry>
  <entry
>Décima-quinta partição do quarto disco rígido IDE</entry>
</row>
</tbody
></tgroup
></informaltable>

<informaltable
><tgroup cols="2"
><tbody>
<row>
  <entry
><filename
>sda</filename
></entry>
  <entry
>Disco Rígido SCSI com o SCSI ID mais baixo (e.g. 0)</entry>
</row
><row>
  <entry
><filename
>sdb</filename
></entry>
  <entry
>Disco Rígido SCSI com o próximo SCSI ID mais alto (e.g. 1)</entry>
</row
><row>
  <entry
><filename
>sdc</filename
></entry>
  <entry
>Disco Rígido SCSI com o próximo SCSI ID mais alto (e.g. 2)</entry>
</row
><row>
  <entry
><filename
>sda1</filename
></entry>
  <entry
>Primeira partição do primeiro disco rígido SCSI</entry>
</row
><row>
  <entry
><filename
>sdd10</filename
></entry>
  <entry
>Décima partição do quarto disco rígido SCSI</entry>
</row>
</tbody
></tgroup
></informaltable>

<informaltable
><tgroup cols="2"
><tbody>
<row>
  <entry
><filename
>sr0</filename
></entry>
  <entry
>CD-ROM SCSI com o SCSI ID mais baixo</entry>
</row
><row>
  <entry
><filename
>sr1</filename
></entry>
  <entry
>CD-ROM SCSI com o próximo SCSI ID mais alto</entry>
</row>
</tbody
></tgroup
></informaltable>

<informaltable
><tgroup cols="2"
><tbody>
<row>
  <entry
><filename
>ttyS0</filename
></entry>
  <entry
>Porto Série 0, COM1 em MS-DOS</entry>
</row
><row>
  <entry
><filename
>ttyS1</filename
></entry>
  <entry
>Porta série 2, COM2 em MS-DOS</entry>
</row
><row>
  <entry
><filename
>psaux</filename
></entry>
  <entry
>Dispositivo de rato PS/2</entry>
</row
><row>
  <entry
><filename
>gpmdata</filename
></entry>
  <entry
>Pseudo dispositivo, daemon repetidor de informação do GPM (rato)</entry>
</row>
</tbody
></tgroup
></informaltable>

<informaltable
><tgroup cols="2"
><tbody>
<row>
  <entry
><filename
>cdrom</filename
></entry>
  <entry
>Link simbólico para a drive de CD-ROM</entry>
</row
><row>
  <entry
><filename
>mouse</filename
></entry>
  <entry
>Link simbólico para o ficheiros de dispositivo mouse</entry>
</row>
</tbody
></tgroup
></informaltable>

<informaltable
><tgroup cols="2"
><tbody>
<row>
  <entry
><filename
>null</filename
></entry>
  <entry
>Tudo o que for enviado para este dispositivo irá desaparecer</entry>
</row
><row>
  <entry
><filename
>zero</filename
></entry>
  <entry
>É possível ler infinitamente zeros a partir deste dispositivo</entry>
</row>
</tbody
></tgroup
></informaltable>

</para>

  <sect2>
<title
>Preparando o Seu Rato</title>

<para
>O rato pode ser utilizado quer na consola Linux (com gpm) quer no ambiente de janelas do X. Os dois usos podem ser compatíveis se o repetidor gpm for utilizado para permitir ao sinal fluir para o servidor X como é mostrado: <informalexample
><screen>
mouse =&gt; /dev/psaux  =&gt; gpm =&gt; /dev/gpmdata -&gt; /dev/mouse =&gt; X
         /dev/ttyS0             (repeater)        (symlink)
         /dev/ttyS1
</screen
></informalexample
> Defina o protocolo de repetição para ser raw (em <filename
>/etc/gpm.conf</filename
> enquanto que no X defina o protocolo original mouse em <filename
>/etc/X11/XF86Config</filename
> ou <filename
>/etc/X11/XF86Config-4</filename
>. </para
><para
>Esta aproximação para utilizar o gpm também no X tem vantagens quando o rato é inadvertidamente desligado. Simplesmente re-iniciar o gpm com <informalexample
><screen>
# /etc/init.d/gpm restart
</screen
></informalexample
> irá re-ligar o rato ao software sem re-iniciar o X. </para
><para
>Se o gpm estiver desligado ou não instalado por alguma razão, assegure-se de colocar o X a ler directamente a partir do dispositivo de rato como o /dev/psaux. Para detalhes, veja o mini-Howto Rato de 3-Botões em <filename
>/usr/share/doc/HOWTO/en-txt/3-Button-Mouse.gz</filename
>, <userinput
>man gpm</userinput
>. <filename
>/usr/share/doc/gpm/FAQ.gz</filename
>, e <ulink url="&url-xfree86;current/mouse.html"
>README.mouse</ulink
>. </para
><para arch="powerpc"
>Para PowerPC, em <filename
>/etc/X11/XF86Config</filename
> ou <filename
>/etc/X11/XF86Config-4</filename
>, defina o dispositivo de rato para <userinput
>"/dev/input/mice"</userinput
>. </para
><para arch="powerpc"
>Os kernel modernos dão-lhe a capacidade de emular um rato de três botões mesmo que o seu rato tenha apenas um botão. Apenas junte as seguintes linhas ao ficheiro <filename
>/etc/sysctl.conf</filename
>. <informalexample
><screen
># emulação de rato de 3-botões
# ligar a emulação
/dev/mac_hid/mouse_button_emulation = 1
# Enviar o sinal de botão do meio com a tecla F11
/dev/mac_hid/mouse_button2_keycode = 87
# Enviar o sinal do botão direito do rato com a tecla F12
/dev/mac_hid/mouse_button3_keycode = 88
# Para teclas diferentes, utilize showkey para lhe dizer qual é o código.
</screen
></informalexample>

</para>
  </sect2>
 </sect1>

 <sect1 id="tasksel-size-list">
 <title
>Espaço em Disco Necessário para Tarefas</title>

<!-- Note for d-i and manual maintainers
 Sizes of tasks should be determined by running "tasksel new" on a system
 that been fully installed without selecting any tasks. By selecting a
 task together with the "manual selection" option, aptitude will be started
 and show the sizes for the task. After deselecting the packages to be
 installed, quit aptitude and repeat for other tasks.
 Space requirements need to be determined from tasksel as tasksel will not
 install recommended packages while selecting a task from aptitude will.
-->       

<para
>A instalação base de sarge para i386, utilizando o kernel 2.4 por omissão, incluindo todos os pacotes standard, necessita de 573MB de espaço em disco. </para
><para
>A tabela seguinte lista os tamanhos reportados pelo aptitude para as tarefas listadas com o tasksel. Note que algumas tarefas têm constituintes que se sobrepõem, por isso o total do tamanho instalado de duas tarefas pode ser menor que o total obtido somando os números. </para
><para
>Note que você vai necessitar de somar os tamanhos listados na tabela ao tamanho da instalação base de sarge quando determinar o tamanho das partições. A maioria dos tamanhos listados como <quote
>Tamanho Instalado</quote
> irá acabar em <filename
>/usr</filename
>; o tamanho listado como <quote
>Tamanho do download</quote
> é necessário em (temporariamente) <filename
>/var</filename
>. </para
><para>

<informaltable
><tgroup cols="4">
<thead>
<row>
  <entry
>Tarefa</entry>
  <entry
>Espaço instalado (MB)</entry>
  <entry
>Tamanho do download (MB)</entry>
  <entry
>Espaço necessário para instalar (MB)</entry>
</row>
</thead>

<tbody>
<row>
  <entry
>Desktop</entry>
  <entry
>1392</entry>
  <entry
>460</entry>
  <entry
>1852</entry>
</row>

<row>
  <entry
>Servidor Web</entry>
  <entry
>36</entry>
  <entry
>12</entry>
  <entry
>48</entry>
</row>

<row>
  <entry
>Servidor de Impressão</entry>
  <entry
>168</entry>
  <entry
>58</entry>
  <entry
>226</entry>
</row>

<row>
  <entry
>Servidor de DNS</entry>
  <entry
>2</entry>
  <entry
>1</entry>
  <entry
>3</entry>
</row>

<row>
  <entry
>Servidor de Ficheiros</entry>
  <entry
>47</entry>
  <entry
>24</entry>
  <entry
>71</entry>
</row>

<row>
  <entry
>Servidor de Mail</entry>
  <entry
>10</entry>
  <entry
>3</entry>
  <entry
>13</entry>
</row>

<row>
  <entry
>Base de Dados SQL</entry>
  <entry
>66</entry>
  <entry
>21</entry>
  <entry
>87</entry>
</row>

</tbody>
</tgroup
></informaltable>

<note
><para
>A tarefa <emphasis
>Desktop</emphasis
> irá instalar ambos os ambientes de desktop GNOME e KDE. </para
></note>

</para
><para
>Se vai instalar noutro idioma que não o Inglês, o <command
>tasksel</command
> pode instalar automaticamente uma <firstterm
>tarefa de localização</firstterm
>, se estiver alguma disponível para o seu idioma. As necessidades de espaço diferem por idioma; você deve permitir até um total de 200MB para download e instalação. </para>
 </sect1>
<!--   End of file appendix/files.xml -->

<!-- Start of file appendix/chroot-install.xml -->

 <sect1 id="linux-upgrade">
 <title
>Instalar &debian; a partir de um sistema Unix/Linux</title>

<para
>Esta secção explica como instalar &debian; a partir de um sistema Linux/Unix existente, sem utilizar o instalador pelo menu, baseado em ncurses, como é explicado no resto do manual. Este "cross-install" HOWTO foi pedido por utilizadores que mudam para &debian; a partir de Red Hat, Mandrake e SUSE. Nesta secção é assumida alguma familiaridade em introduzir comandos *nix e navegar através do sistema de ficheiros. Nesta secção, <prompt
>$</prompt
> simboliza um comando a ser escrito pelo utilizador do sistema actual, e <prompt
>#</prompt
> refere-se a comandos introduzidos no chroot Debian. </para
><para
>Assim que tiver o novo sistema Debian configurado de acordo com as suas preferências, você pode migrar os dados existentes dos utilizadores (se os tiver) para lá, e continuar a rolar. Isto é portanto uma instalação &debian; com "zero paragens". É também uma maneira inteligente de lidar com hardware que não se dá bem com os vários media ou tipos de arranque. </para>

  <sect2>
  <title
>Começar</title>
<para
>Com os seus actuais utilitários de particionamento *nix, reparticione o disco rígido conforme necessário, criando pelo menos um sistema de ficheiros e swap. Você necessita pelo menos de 150 MB de espaço disponível para instalação de apenas consola, ou pelo menos 300MB se planeia instalar o X. </para
><para
>Para criar os sistemas de ficheiros nas suas partições. Por exemplo, para criar um sistema de ficheiros ext3 na partição <filename
>/dev/hda6</filename
> (é a nossa partição raíz no nosso exemplo): <informalexample
><screen>
# mke2fs -j /dev/hda6
</screen
></informalexample
> Em vez disso para criar um sistema de ficheiros ext2, omita <userinput
>-j</userinput
>. </para
><para
>Inicializar e activar a partição swap (substitua o número da partição pelo que deseja na sua partição swap Debian): <informalexample
><screen>
# mkswap /dev/hda5
# sync; sync; sync
# swapon /dev/hda5
</screen
></informalexample
> Monte uma partição como <filename
>/mnt/debinst</filename
> (o ponto de instalação, para ser o sistema de ficheiros raíz (<filename
>/</filename
>) no seu novo sistema). O nome do ponto de montagem é completamente arbitrário, é referenciado depois mais abaixo. <informalexample
><screen
># mkdir /mnt/debinst
# mount /dev/hda6 /mnt/debinst
</screen
></informalexample>

</para>
  </sect2>

  <sect2>
  <title
>Instalar <command
>debootstrap</command
></title>
<para
>O utilitário que o instalador Debian utiliza, que é reconhecido como a forma oficial de instalar um sistema base Debian, é o <command
>debootstrap</command
>. Este utiliza o <command
>wget</command
> e <command
>ar</command
>, mas de outra forma depende apenas de <classname
>/bin/sh</classname
>. Instale os <command
>wget</command
> e <command
>ar</command
> se não estão já no seu sistema actual, depois faça o download e instale o <command
>debootstrap</command
>. </para
><para
>Se você tem um sistema baseado em rpm, você pode utilizar o alien para converter o .deb em .rpm, ou fazer o download de uma versão rpm em <ulink url="http://people.debian.org/~blade/install/debootstrap"
></ulink
> </para
><para
>Ou, pode utilizar o seguinte procedimento para instala-lo manualmente. Crie um directório de trabalho para extraír lá o .deb: <informalexample
><screen>
# mkdir work
# cd work
</screen
></informalexample
> O binário <command
>debootstrap</command
> esta localizado no arquivo Debian (assegure-se que escolhe o ficheiro adequado para a sua arquitectura). Faça o download do .deb <command
>debootstrap</command
> a partir do <ulink url="http://ftp.debian.org/debian/pool/main/d/debootstrap/"
> pool</ulink
>, copie o pacote para o directório de trabalho, e extraia dele os ficheiros binários. Você vai necessitar de previlégios de root para instalar os binários. <informalexample
><screen
># tar -xf debootstrap_0.X.X_arch.deb
# cd /
# zcat /full-path-to-work/work/data.tar.gz | tar xv
</screen
></informalexample>

</para>
  </sect2>

  <sect2>
  <title
>Corra <command
>debootstrap</command
></title>
<para
>O <command
>debootstrap</command
> pode fazer o download dos ficheiros necessários directamente do arquivo quando o executar. Você pode substituir qualquer mirror de arquivo por <userinput
>http.us.debian.org/debian</userinput
> no exemplo do comando abaixo, de preferência um mirror perto da sua rede. Os mirrors estão listados em <ulink url="http://www.debian.org/misc/README.mirrors"
></ulink
>. </para
><para
>Se você tem o CD &debian; &releasename; montado em <filename
>/cdrom</filename
>, você pode substituir um URL de ficheiro em vez do URL http: <userinput
>file:/cdrom/debian/</userinput
> </para
><para
>Substitua um dos seguintes por <replaceable
>ARCH</replaceable
> em <command
>debootstrap</command
> command: <userinput
>alpha</userinput
>, <userinput
>arm</userinput
>, <userinput
>hppa</userinput
>, <userinput
>i386</userinput
>, <userinput
>ia64</userinput
>, <userinput
>m68k</userinput
>, <userinput
>mips</userinput
>, <userinput
>mipsel</userinput
>, <userinput
>powerpc</userinput
>, <userinput
>s390</userinput
>, ou <userinput
>sparc</userinput
>. <informalexample
><screen
># /usr/sbin/debootstrap --arch ARCH &releasename; \
     /mnt/debinst http://http.us.debian.org/debian
</screen
></informalexample>

</para>
  </sect2>

  <sect2>
  <title
>Configurar o Sistema Base</title>
<para
>Agora que você tem um verdadeiro sistema Debian, embora pouco limpo, no disco. Faça nele o <command
>Chroot</command
>: <informalexample
><screen
># chroot /mnt/debinst /bin/bash
</screen
></informalexample>

</para>

   <sect3>
   <title
>Partições a Montar</title>
<para
>Você necessita criar <filename
>/etc/fstab</filename
>. <informalexample
><screen>
# editor /etc/fstab
</screen
></informalexample
> Isto é um exemplo que você pode modificar à sua medida: <informalexample
><screen>
# /etc/fstab: informação estática do sistema de ficheiros
#
# file system    mount point   type    options                  dump pass
/dev/XXX         /             ext2    defaults                 0    0
/dev/XXX         /boot         ext2    ro,nosuid,nodev          0    2

/dev/XXX         none          swap    sw                       0    0
proc             /proc         proc    defaults                 0    0

/dev/fd0         /mnt/floppy   auto    noauto,rw,sync,user,exec 0    0
/dev/cdrom       /mnt/cdrom    iso9660 noauto,ro,user,exec      0    0

/dev/XXX         /tmp          ext2    rw,nosuid,nodev          0    2
/dev/XXX         /var          ext2    rw,nosuid,nodev          0    2
/dev/XXX         /usr          ext2    rw,nodev                 0    2
/dev/XXX         /home         ext2    rw,nosuid,nodev          0    2
</screen
></informalexample
> Para montar todos os sistemas de ficheiros que tem especificado em  <filename
>/etc/fstab</filename
> utilize <userinput
>mount -a</userinput
>, ou para montar individualmente os sistemas de ficheiros utilize: <informalexample
><screen>
# mount /path   # e.g.: mount /usr
</screen
></informalexample
> Você pode montar o sistema de ficheiros proc várias vezes e em locais arbitrários, embora o /proc seja alterável. Se você não utilizou <userinput
>mount -a</userinput
> certifique-se que monta o proc antes de continuar. <informalexample
><screen
># mount -t proc proc /proc
</screen
></informalexample>

</para>
   </sect3>

   <sect3>
   <title
>Configurar o Teclado</title>
<para
>Para configurar o seu teclado: <informalexample
><screen
># dpkg-reconfigure console-data
</screen
></informalexample>

</para>
   </sect3>

   <sect3>
   <title
>Configurar a Rede</title>
<para
>Para configurar a rede, edite <filename
>/etc/network/interfaces</filename
>, <filename
>/etc/resolv.conf</filename
>, e <filename
>/etc/hostname</filename
>. <informalexample
><screen>
# editor /etc/network/interfaces 
</screen
></informalexample
> Aqui estão alguns exemplos simples de <filename
>/usr/share/doc/ifupdown/examples</filename
>: <informalexample
><screen>
######################################################################
# /etc/network/interfaces -- ficheiro de configuração para ifup(8), ifdown(8)
# Veja a manpage interfaces(5) manpage para informação acerca de quais
# opções estão disponíveis.
######################################################################

# Nós queremos sempre o interface loopback.
#
auto lo
iface lo inet loopback

# Para utilizar dhcp:
#
# auto eth0
# iface eth0 inet dhcp

# Um exemplo de uma configuração de IP estático: (broadcast e gateway são opcionais)
#
# auto eth0
# iface eth0 inet static
#     address 192.168.0.42
#     network 192.168.0.0
#     netmask 255.255.255.0
#     broadcast 192.168.0.255
#     gateway 192.168.0.1
</screen
></informalexample
> Introduza o(s) servidor(es) de nomes e directivas de procura em <filename
>/etc/resolv.conf</filename
>: <informalexample
><screen>
# editor /etc/resolv.conf
</screen
></informalexample
> Um simples <filename
>/etc/resolv.conf</filename
>: <informalexample
><screen>
search hqdom.local\000
nameserver 10.1.1.36
nameserver 192.168.9.100
</screen
></informalexample
> Escreva o hostname do seu sistema (2 a 63 caracteres): <informalexample
><screen>
# echo DebianHostName &gt; /etc/hostname
</screen
></informalexample
> Se você tem várias placas de rede, você deve ordenar os nomes dos drivers dos módulos no ficheiro <filename
>/etc/modules</filename
> com a ordem desejada. Depois, durante o arranque cada placa será associada com um nome de interface (eth0, eth1, etc.) que você espera. </para>
   </sect3>

   <sect3>
   <title
>Configurar Fuso Horário, Utilizadores, e APT</title>
<para
>Defina o seu fuso horário, crie um utilizador normal, e escolha as as suas fontes para o <command
>apt</command
> executando <informalexample
><screen
># /usr/sbin/base-config new
</screen
></informalexample>

</para>
   </sect3>

   <sect3>
   <title
>Configurar Locales</title>
<para
>Para configurar as suas definições de locale para utilizar outro idioma que não o Inglês, instale o pacote de suporte de locale e configure-o: <informalexample
><screen>
# apt-get install locales
# dpkg-reconfigure locales
</screen
></informalexample
> NOTA: O apt tem de ser configurado antes, ie. durante a fase do base-config. Antes de utilizar locales com conjuntos de caracteres que não sejam ASCII ou latin1, por favor consulte o HOWTO de localização apropriado. </para>
   </sect3>
  </sect2>

  <sect2>
  <title
>Instalar um Kernel</title>
<para
>Se você pretende iniciar este sistema, você provavelmente quer um kernel Linux e um gestor de arranque. Identifique os kernels pré-empacotados disponíveis com <informalexample
><screen>
# apt-cache search kernel-image
</screen
></informalexample
> E depois instale a sua escolhe utilizando o nome do pacote. <informalexample
><screen
># apt-get install kernel-image-<replaceable
>2.X.X-arch-etc</replaceable
>
</screen
></informalexample>

</para>
  </sect2>

  <sect2>
<title
>Configurar o Boot Loader</title>
<para
>Para tornar o seu sistema &debian; iniciável, prepare o gestor de arranque para carregar o kernel com a sua nova partição raíz. Note que o debootstrap não instala um gestor de arranque, embora possa utilizar a apt-get dentro do seu chroot Debian para o fazer. </para
><para arch="i386"
>Veja <userinput
>info grub</userinput
> ou <userinput
>man lilo.conf</userinput
> para instruções acerca de como configurar o gestor de arranque. Se está a manter o sistema que utilizou para instalar Debian, apenas adicione uma entrada para a instalação Debian ao seu grub existente <filename
>lilo.conf</filename
> ou <filename
>lilo.conf</filename
>, pode também copia-lo para o novo sistema e edita-lo lá. Após acabar de editar, chame o lilo (lembre-se que vai utilizar <filename
>lilo.conf</filename
> relativo ao sistema de onde o chama). </para
><para arch="i386"
>Aqui está um <filename
>/etc/lilo.conf</filename
> simples como exemplo: <informalexample
><screen
>boot=/dev/hda6
root=/dev/hda6
install=/boot/boot-menu.b
delay=20
lba32
image=/vmlinuz
label=Debian
</screen
></informalexample>

</para
><para arch="powerpc"
>Veja <userinput
>man yaboot.conf</userinput
> para instruções acerca de como preparar o bootloader. Se está a manter o sistema que utilizou para instalar, adicione apenas uma entrada para a instalação Debian ao seu <filename
>yaboot.conf</filename
>. Você pode também copia-lo para o seu novo sistema e edita-lo lá. Quando acabar de o editar, chame ybin (lembre-se que vai utilizar <filename
>yaboot.conf</filename
> relativo ao sistema de onde você o chamar). </para
><para arch="powerpc"
>Aqui está um exemplo básico de <filename
>/etc/yaboot.conf</filename
>: <informalexample
><screen>
boot=/dev/hda2
device=hd:
partition=6
root=/dev/hda6
magicboot=/usr/lib/yaboot/ofboot
timeout=50
image=/vmlinux
label=Debian
</screen
></informalexample
> Em algumas máquinas, pode precisar de utilizar <userinput
>ide0:</userinput
> em vez de <userinput
>hd:</userinput
>. </para>
  </sect2>
 </sect1>
<!--   End of file appendix/chroot-install.xml -->

</appendix>
<!--   End of file appendix/random-bits.xml -->
